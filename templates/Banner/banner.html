{% load static %}
<!DOCTYPE html>
<html lang="en">


<head>
    <!-- Twitter meta-->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:site" content="@pratikborsadiya">
    <meta property="twitter:creator" content="@pratikborsadiya">
    <!-- Open Graph Meta-->
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="Vali Admin">
    <meta property="og:title" content="Vali - Free Bootstrap 4 admin theme">
    <meta property="og:url" content="http://pratikborsadiya.in/blog/vali-admin">
    <meta property="og:image" content="http://pratikborsadiya.in/blog/vali-admin/hero-social.png">
    <meta property="og:description"
        content="Vali is a responsive and free admin theme built with Bootstrap 4, SASS and PUG.js. It's fully customizable and modular.">
    <title>Admin page</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Main CSS-->
    <link rel="stylesheet" type="text/css" href="{% static 'css/main.css' %}">

    <!-- fileupload -->
    <!-- <script src="{% static 'js/fileupload.js'%}"></script> -->
    <script src="{% static 'js/jquery.js' %}"></script>


    <!-- Font-icon css-->
    <link rel="stylesheet" type="text/css"
        href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body class="app sidebar-mini rtl">
    <!-- Navbar-->
    <header class="app-header"><a class="app-header__logo" href="index.html">Admin page</a>
        <!-- Sidebar toggle button--><a class="app-sidebar__toggle" href="#" data-toggle="sidebar"
            aria-label="Hide Sidebar"></a>
        <!-- Navbar Right Menu-->
        <ul class="app-nav">
            <li class="app-search">
                <input class="app-search__input" type="search" placeholder="Search">
                <button class="app-search__button"><i class="fa fa-search"></i></button>
            </li>
            <!-- User Menu-->
            <li class="dropdown"><a class="app-nav__item" href="#" data-toggle="dropdown"
                    aria-label="Open Profile Menu"><i class="fa fa-user fa-lg"></i></a>
                <ul class="dropdown-menu settings-menu dropdown-menu-right">
                    <li><a class="dropdown-item" href="Login_page.html"><i class="fa fa-sign-out fa-lg"></i> Logout</a>
                    </li>
                </ul>
            </li>
        </ul>
    </header>
    <!-- Sidebar menu-->
    <div class="app-sidebar__overlay" data-toggle="sidebar"></div>
    <aside class="app-sidebar">
        <div class="app-sidebar__user"><img class="app-sidebar__user-avata"
                src="https://s3.amazonaws.com/uifaces/faces/twitter/jsa/48.jpg" alt="User Image">
            <div>
                <p class="app-sidebar__user-name">John Doe</p>
                <p class="app-sidebar__user-designation">Frontend Developer</p>
            </div>
        </div>
        <ul class="app-menu">
            <li><a class="app-menu__item" href="../index.html"><i class="app-menu__icon fa fa-edit"></i><span
                        class="app-menu__label">Mail box</span></a></li>
            <li class="treeview"><a class="app-menu__item" href="#" data-toggle="treeview"><i
                        class="app-menu__icon fa fa-th-list"></i><span class="app-menu__label">Tables</span><i
                        class="treeview-indicator fa fa-angle-right"></i></a>
                <ul class="treeview-menu">
                    <li><a class="treeview-item" href="banner.html"><i class="icon fa fa-circle-o"></i> Data Tables1</a>
                    </li>
                    <li><a class="treeview-item" href="../Card/card.html"><i class="icon fa fa-circle-o"></i>
                            DataTables2</a></li>
                </ul>
            </li>
        </ul>
    </aside>
    <main class="app-content">
        <div class="app-title">
            <div>
                <h1><i class="fa fa-th-list"></i> Data Table</h1>
                <p>Table to display analytical data effectively</p>
            </div>
            <ul class="app-breadcrumb breadcrumb side">
                <li class="breadcrumb-item"><i class="fa fa-home fa-lg"></i></li>
                <li class="breadcrumb-item">Tables</li>
                <li class="breadcrumb-item active"><a href="#">Data Table</a></li>
            </ul>
        </div>
        <div class="row">
            <div class="col-md-12">

                <div class="tile">
                    <button type="button" class="btn btn-success float-right" data-toggle="modal"
                        data-target="#myModal1">Add</button>

                    <!-- Modal -->
                    <div class="modal fade" id="myModal1" role="dialog">
                        <div class="modal-dialog">
                            <!-- Modal content-->
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h4 class="modal-title">Register</h4>
                                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                                </div>
                                <div class="modal-body">
                                    <div class="col-md-12">
                                        <div class="tile">
                                            <div class="tile-body">
                                                <form class="form-horizontal">
                                                    <div class="form-group row">
                                                        <label class="control-label col-md-3">Title</label>
                                                        <div class="col-md-8">
                                                            <input name="title" class="form-control" type="text"
                                                                placeholder="Enter full name">
                                                        </div>
                                                    </div>
                                                    <div class="form-group row">
                                                        <label class="control-label col-md-3">Info</label>
                                                        <div class="col-md-8">
                                                            <input name="info" class="form-control" type="text" rows="4"
                                                                placeholder="Enter your info">
                                                        </div>
                                                    </div>
                                                    <div class="form-group row">
                                                        <label class="control-label col-md-3">Photo</label>
                                                        <div class="col-md-8">
                                                            <input name="image" class="form-control" type="file"
                                                                id="kv-explorer">
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <div class="row">
                                        <div class="col-md-12 col-md-offset-3">
                                            <button data-url="{% url 'banner-create-api' %}" class="btn btn-primary"
                                                id="demoSwal2" type="button"><i
                                                    class="fa fa-fw fa-lg fa-check-circle"></i>Register</button>&nbsp;&nbsp;&nbsp;<button
                                                type="button" class="btn btn-default"
                                                data-dismiss="modal">Close</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="tile-body">
                        <table class="table table-hover table-bordered" id="sampleTable">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Title</th>
                                    <th>File</th>
                                    <th>info</th>
                                    <th>delete</th>
                                    <th>Update</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for StartUpBanner in banners %}
                                <tr>
                                    <td>{{StartUpBanner.id}}</td>
                                    <td>{{StartUpBanner.title}}</td>
                                    <td>
                                        {% if StartUpBanner.image %}
                                        <a href="#" class="a-block d-flex align-items-center height-lg"
                                            style="background-image: {{StartUpBanner.image.url}};">
                                            {% else %}
                                            <a href="#" class="a-block d-flex align-items-center height-lg"
                                                style="background-image: url(images/img_10.jpg);">
                                                {% endif %}
                                    </td>
                                    <td>{{StartUpBanner.info}}</td>
                                    <td>
                                        <a class="btn btn-danger" id="banner-delete" data-url="banner-delete-api">Delete</a>
                                    </td>
                                    <td><button type="button" class="btn btn-info update-button" id="" data-toggle="modal"
                                            data-url="{% url 'banner-update-api' StartUpBanner.id %}"
                                            data-target="#myModal">Edit</button>
                                        <!-- Modal -->
                                        <div class="modal fade" id="myModal" role="dialog">
                                            <div class="modal-dialog">
                                                <!-- Modal content-->
                                                
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                                {% endfor %}
                                
                                <div style="display: none">
<div class="modal fade" id="myModal1" role="dialog">
                        <div class="modal-dialog">
                            <!-- Modal content-->
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h4 class="modal-title">Register</h4>
                                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                                </div>
                                <div class="modal-body">
                                    <div class="col-md-12">
                                        <div class="tile">
                                            <div class="tile-body">
                                                <form class="form-horizontal">
                                                    <div class="form-group row">
                                                        <label class="control-label col-md-3">Title</label>
                                                        <div class="col-md-8">
                                                            <input name="title" class="form-control" type="text"
                                                                placeholder="Enter full name">
                                                        </div>
                                                    </div>
                                                    <div class="form-group row">
                                                        <label class="control-label col-md-3">Info</label>
                                                        <div class="col-md-8">
                                                            <input name="info" class="form-control" type="text" rows="4"
                                                                placeholder="Enter your info">
                                                        </div>
                                                    </div>
                                                    <div class="form-group row">
                                                        <label class="control-label col-md-3">Photo</label>
                                                        <div class="col-md-8">
                                                            <input name="image" class="form-control" type="file"
                                                                id="kv-explorer">
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <div class="row">
                                        <div class="col-md-12 col-md-offset-3">
                                            <button data-url="{% url 'banner-create-api' %}" class="btn btn-primary"
                                                id="demoSwal2" type="button"><i
                                                    class="fa fa-fw fa-lg fa-check-circle"></i>Register</button>&nbsp;&nbsp;&nbsp;<button
                                                type="button" class="btn btn-default"
                                                data-dismiss="modal">Close</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="tile-body">
                        <table class="table table-hover table-bordered" id="sampleTable">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Title</th>
                                    <th>File</th>
                                    <th>info</th>
                                    <th>delete</th>
                                    <th>Update</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for StartUpBanner in banners %}
                                <tr>
                                    <td>{{StartUpBanner.id}}</td>
                                    <td>{{StartUpBanner.title}}</td>
                                    <td>
                                        {% if StartUpBanner.image %}
                                        <a href="#" class="a-block d-flex align-items-center height-lg"
                                            style="background-image: {{StartUpBanner.image.url}};">
                                            {% else %}
                                            <a href="#" class="a-block d-flex align-items-center height-lg"
                                                style="background-image: url(images/img_10.jpg);">
                                                {% endif %}
                                    </td>
                                    <td>{{StartUpBanner.info}}</td>
                                    <td>
                                        <a class="btn btn-danger" id="demoSwal" data-url="banner-delete-api">Delete</a>
                                    </td>
                                    <td><button type="button" class="btn btn-info" id="banner-update"
                                            data-toggle="modal" data-url="{% url 'banner-update-api' StartUpBanner.id %}"
                                            data-target="#myModal">Edit</button>
                                        {% endfor %}
                                        <!-- Modal -->
                                        <div class="modal fade" id="myModal" role="dialog">
                                            <div class="modal-dialog">
                                                <!-- Modal content-->
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <h4 class="modal-title">Register</h4>
                                                        <button type="button" class="close"
                                                            data-dismiss="modal">&times;</button>
                                                    </div>
                                                    <div class="modal-body">
                                                        <div class="col-md-12">
                                                            <div class="tile">
                                                                <div class="tile-body">
                                                                    <form class="form-horizontal">
                                                                        <div class="form-group row">
                                                                            <label
                                                                                class="control-label col-md-3">Title</label>
                                                                            <div class="col-md-8">
                                                                                <input name="title" class="form-control"
                                                                                    type="text"
                                                                                    placeholder="Enter full name">
                                                                            </div>
                                                                        </div>
                                                                        <div class="form-group row">
                                                                            <label
                                                                                class="control-label col-md-3">Info</label>
                                                                            <div class="col-md-8">
                                                                                <input name="info" class="form-control"
                                                                                    rows="4"
                                                                                    placeholder="Enter your info">
                                                                            </div>
                                                                        </div>
                                                                        <div class="form-group row">
                                                                            <label
                                                                                class="control-label col-md-3">Identity
                                                                                Proof</label>
                                                                            <div class="col-md-8">
                                                                                <input name="image" id="kv-explorer"
                                                                                    class="form-control" type="file">
                                                                            </div>
                                                                        </div>
                                                                    </form>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="modal-footer">
                                                        <div class="row">
                                                            <div class="col-md-12 col-md-offset-3">
                                                                <button data-url="banner-update-api"
                                                                    class="btn btn-primary" id="demoSwal2"
                                                                    type="button"><i
                                                                        class="fa fa-fw fa-lg fa-check-circle"></i>Register</button>&nbsp;&nbsp;&nbsp;<button
                                                                    type="button" class="btn btn-default"
                                                                    data-dismiss="modal">Close</button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>                                    
                                </div>

                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Essential javascripts for application to work-->
    <!-- <script src="{% static 'js/jquery-3.2.1.min.js' %}"></script> -->


    <!-- photo uplaod -->
    <script>
        $(document).load(function () {
            $("#kv-explorer").fileinput({
                'theme': 'explorer-fas',
                language: 'ru',
                fileType: "any",
                showUpload: false,
                showCaption: true,
                overwriteInitial: false,
                initialPreviewAsData: true,
                initialPreview: [
                    /*"http://lorempixel.com/1920/1080/nature/1",
                    "http://lorempixel.com/1920/1080/nature/2",
                    "http://lorempixel.com/1920/1080/nature/3"*/
                ],
                initialPreviewConfig: [
                    /*{caption: "nature-1.jpg", size: 329892, width: "120px", url: "{$url}", key: 1},
                    {caption: "nature-2.jpg", size: 872378, width: "120px", url: "{$url}", key: 2},
                    {caption: "nature-3.jpg", size: 632762, width: "120px", url: "{$url}", key: 3}*/
                ]
            });
        });
    </script>


    <!--add to Ajax -->
    <script>
        $(function () {
            $("#demoSwal2").click(function (e) {
                e.preventDefault();
                // alert("wtf");
                let formData = new FormData();
                formData.append('title', $('input[name="title"]').val());
                formData.append('info', $('input[name="info"]').val());
                for (let i = 0; i < $('#kv-explorer')[0].files.length; i++) {
                    formData.append('image', $('#kv-explorer')[0].files[i]);
                }
                var url = $("#demoSwal2").data("url");
                // alert(url);
                $.ajax({
                    headers: { "X-CSRFToken": "{{csrf_token}}" },
                    url: url,
                    processData: false,
                    contentType: false,
                    method: 'POST',
                    data: formData,
                    success: function (data) {
                        // window.location.href = '';
                    },
                    error: function (data) {
                        alert('Error');
                    }
                });
            })
        });
    </script>

    <!-- update to Ajax -->

    <script>
        $(function () {
            $("button.upd").click(function (e) {
                e.preventDefault();
                alert($(this).data("url"));
        });
    </script>

banner-delete
 <!-- delete to Ajax -->



    <!-- <script src="{% static 'js/jquery.js' %}"></script> -->
    <script src="{% static 'js/popper.min.js' %}"></script>
    <script src="{% static 'js/bootstrap.min.js' %}"></script>
    <script src="{% static 'js/main.js' %}"></script>
    <!-- The javascript plugin to display page loading on top-->
    <script src="{% static 'js/plugins/pace.min.js' %}"></script>
    <!-- Page specific javascripts-->
    <!-- Data table plugin-->
    <script type="text/javascript" src="{% static 'js/plugins/jquery.dataTables.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/plugins/bootstrap-notify.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/plugins/sweetalert.min.js' %}"></script>

    <!-- <script type="text/javascript">
        $('#sampleTable').DataTable();
        $('#demoSwal').click(function () {
            swal({
                title: "Are you sure?",
                text: "You will not be able to recover this imaginary file!",
                type: "warning",
                showCancelButton: true,
                confirmButtonText: "Yes, delete it!",
                cancelButtonText: "No, cancel plx!",
                closeOnConfirm: false,
                closeOnCancel: false
            }, function (isConfirm) {
                if (isConfirm) {
                    swal("Deleted!", "Your imaginary file has been deleted.", "success");
                } else {
                    swal("Cancelled", "Your imaginary file is safe :)", "error");
                }
            });
        });
        $('#demoSwal1').click(function () {
            swal({
                title: "Are you sure?",
                type: "warning",
                showCancelButton: true,
                confirmButtonText: "Yes!",
                cancelButtonText: "No, cancel plz!",
                closeOnConfirm: false,
                closeOnCancel: false
            }, function (isConfirm) {
                if (isConfirm) {
                    swal("Edited!", "Your imaginary file has been Edited.", "success");
                } else {
                    swal("Cancelled", "Your imaginary file is safe :)", "error");
                }
            });
        });
    // $('#demoSwal2').click(function() {
    //     swal({
    //         title: "Are you sure?",
    //         type: "warning",
    //         showCancelButton: true,
    //         confirmButtonText: "Yes!",
    //         cancelButtonText: "No, cancel plz!",
    //         closeOnConfirm: false,
    //         closeOnCancel: false
    //     }
    // });
    </script> -->
    <!-- Google analytics script-->
    <script type="text/javascript">
        if (document.location.hostname == 'pratikborsadiya.in') {
            (function (i, s, o, g, r, a, m) {
                i['GoogleAnalyticsObject'] = r;
                i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date();
                a = s.createElement(o),
                    m = s.getElementsByTagName(o)[0];
                a.async = 1;
                a.src = g;
                m.parentNode.insertBefore(a, m)
            })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
            ga('create', 'UA-72504830-1', 'auto');
            ga('send', 'pageview');
        }
    </script>









</body>

</html>